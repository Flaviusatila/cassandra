<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/night.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
						<!-- <section>Flavius Atila Gama Carvalho Ferreira</section>
						<section>Cassandra No My Sql</section> -->
			<section data-auto-animate data-auto-animate-unmatched="fade">
				<h2>Guild Java</h2>	
				<h5>Flavius Atila Gama Carvalho Ferreira</h5>
			</section>
			<section data-auto-animate data-auto-animate-unmatched="fade">
					<h4>Manipulação de dados</h4>
					<p>Cassandra DB (NoSql)</p>
					<img src="examples/assets/1_xlRpJixAInrMlIhn5KINgA.jpeg" style="height: 250px;">
			</section>		
			<section data-markdown data-separator="^\n---\n$" data-separator-vertical="^\n--\n$">
				<script type="text/template">
					## Pré Requisito
					<ul>
						<li>
							Java 8 instalado e configurado na maquina.
						</li>
					</ul>

					--
					
					## Instalando JDK
					<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">Link download JDK 8 </a>
					<img src="examples/assets/Jdk/java-jdk-8-download-windows-x64-version.png" style="height: 250px;">

					--

					<img src="examples/assets/Jdk/start-jdk-8-installation-windows.png" style="height: 250px;">

					--

					<img src="examples/assets/Jdk/java-8-windows-jdk-cassandra.png" alt="">

					--

					<img src="examples/assets/Jdk/java-jdk-8-successful-install-windows-cassandra.png" alt="">

					--

					<img src="examples/assets/Jdk/this-pc-properties-install-java-8-cassandra-windows.png" alt="">

					--

					<img src="examples/assets/Jdk/advanced-system-settings-java-8-cassandra.png" alt="">

					--

					<img src="examples/assets/Jdk/system-properties-enviormnet-variables-java-cassandra-windows.png" alt="" style="height: 500px;">

					--

					<img src="examples/assets/Jdk/add-new-system-variable-windows-java-cassandra.png" alt="" style="height: 500px;">

					--

					<img src="examples/assets/Jdk/browse-for-java-8-folder-add-envirnment-variable.png" alt="" style="height: 650px;">
					
					--

					<img src="examples/assets/Jdk/new-enviornment-variable-added-java-8-windows.png" alt="">

					--

					<img src="examples/assets/Jdk/java-home-variable-system-variable-added-windows.png" alt="" style="height: 650px;">

					---

					## Pré Requisito
					<ul>
						<li>
							Python 2.7 instalado e configurado na maquina
						</li>
					</ul>

					--
					
					## Instalando Python 2.7
					<a href="https://www.python.org/downloads/release/python-2718/">Link download Python 2.7 </a> <br>
					<img src="examples/assets/Python/select-python-windows-x64-version-executable.png">

					--

					<img src="examples/assets/Python/python-2.7-installation-windows-cassandra.png">

					--

					<img src="examples/assets/Python/select-python-installation-directory-windows.png" alt="">

					--

					<img src="examples/assets/Python/select-python-installation-options-windows.png" alt="">

					--

					<img src="examples/assets/Python/python-2.7-finish-installation-windows.png" alt="">

					--

					<img src="examples/assets/Python/this-pc-properties-install-java-8-cassandra-windows.png" alt="">

					--

					<img src="examples/assets/Python/advanced-system-settings-java-8-cassandra.png" alt="">

					--

					<img src="examples/assets/Python/edit-path-variable-python-2.7.png" alt="" style="height: 500px;">

					--

					<img src="examples/assets/Python/add-new-python-2.7-variable-path-windows.png" alt="" style="height: 650px;">
					
					--

					<img src="examples/assets/Python/add-python-2.7-variable-path-enviornment.png" alt="" style="height: 650px;">

					---

					## Instalando Cassandra
					<h5>Verificando Versões</h5>
					- JDK
						<pre data-id="code"><code class="hljs" data-trim>
							java -version
						</code></pre>
					- Python
						<pre data-id="code"><code class="hljs" data-trim>
							python ––version
						</code></pre>

					--

					<a href="https://cassandra.apache.org/download/">Link download Cassandra </a> <br>
					<img src="examples/assets/Cassandra/download-latest-cassandra-version-windows.png">

					--

					<img src="examples/assets/Cassandra/apache-download-mirror-link-windows.png">

					--

					<img src="examples/assets/Cassandra/content-of-untarred-cassandra-windows-folder.png" alt="">

					--

					<img src="examples/assets/Cassandra/this-pc-properties-install-java-8-cassandra-windows.png" alt="">

					--

					<img src="examples/assets/Cassandra/advanced-system-settings-java-8-cassandra.png" alt="">

					--

					<img src="examples/assets/Cassandra/system-properties-enviormnet-variables-java-cassandra-windows.png" alt="" style="height: 650px;">

					--

					<img src="examples/assets/Cassandra/add-new-system-variable-windows-java-cassandra.png" alt="" style="height: 650px;">

					--

					<img src="examples/assets/Cassandra/cassandra-add-enviornment-variable-windows.png" alt="" style="height: 500px;">

					--

					<img src="examples/assets/Cassandra/edit-path-variable-python-2.7.png" alt="" style="height: 650px;">
					
					--

					<img src="examples/assets/Cassandra/add-cassandra-bin-folder-path-system-variable.png" alt="" style="height: 650px;">

					--
					
					- Abra o cmd e navege até a pasta onde está as pasta bin do cassandra.
					- Digite o comandor:
					<code><pre>cassandra</pre></code>
					<img src="examples/assets/Cassandra/start-cassandra-windows-command-prompt.png" alt="" style="height: 200px; width:700px">
					- O banco de dados esta rodando se aparece a mensagem
					<code><pre>Starting Cassandra Server</pre></code>
					
					--

					- Abra outro cmd e navege até a pasta onde está as pasta bin do cassandra.
					- Digite o comandor:
					<code><pre>cqlsh</pre></code>
					<img src="examples/assets/Cassandra/cqlsh-shell-cassandra-cmd-windows-access.png" alt="">
					
					--

					Comandos NoSql na Cassandra estão habilitados no cmd.
					
					---

					## Utilizando o Cassandra Docker.

				</script>
			</section>
			<section data-markdown data-separator="^\n---\n$" data-separator-vertical="^\n--\n$">
				<script type="text/template">
					## Conceitos
					<h3>NoSql</h3>
					<p>NoSQL (originalmente se referindo a "no SQL": "não SQL" ou "não relacional",posteriormente estendido para Not Only SQL - Não Somente SQL) é um termo genérico que representa os bancos de dados não relacionais. </p>
					
					--

					<p> É uma classe definida de banco de dados que fornecem um mecanismo para armazenamento e recuperação de dados que são modelados de formas diferentes das relações tabulares usadas nos bancos de dados relacionais.</p>

					--

					<h3>Apache Cassandra</h3>
					<h5>Historia</h5>
					<p>Apache Cassandra é um projeto de sistema de banco de dados distribuído altamente escalável de segunda geração, que reúne a arquitetura do DynamoDB, da Amazon Web Services e modelo de dados baseado no BigTable, do Google.</p>

					--
					
					<p>O Cassandra inicialmente foi criado pelo Facebook, que abriu seu código-fonte para a comunidade em 2008. Agora é mantido por desenvolvedores da fundação Apache e colaboradores de muitas empresas.</p>
					
					--

					<h3>Principais Características</h3>
					<ul>
						<li><h6>Distribuído</h6>
							<p>Cada nó no cluster tem a mesma função. Não há um ponto único de falha. Os dados são distribuídos pelo cluster (para que cada nó contenha dados diferentes), mas não há mestre, pois cada nó pode atender a qualquer solicitação.</p>
						</li>
					</ul>

					--
					
					<ul>
						<li><h6>Escalabilidade</h6>
							<p>Projetado para ter taxa de transferência de leitura e gravação, aumenta linearmente à medida que novas máquinas são adicionadas, com o objetivo de não haver tempo de inatividade ou interrupção nos aplicativos.</p>
						</li>
					</ul>
					
					--

					<ul>
						<li><h6>Tolerante a falhas</h6>
							<p>Os dados são replicados automaticamente para vários nós para tolerância a falhas. A replicação em vários data centers é suportada. Nós com falha podem ser substituídos sem tempo de inatividade.</p>
						</li>
					</ul>

					--
					
					<ul>
						<li><h6>Consistência ajustável</h6>
							<p>O Cassandra é tipicamente classificado como um sistema AP, o que significa que a disponibilidade e a tolerância da partição são geralmente consideradas mais importantes que a consistência no Cassandra, gravações e leituras oferecem um nível ajustável de consistência, desde "as gravações nunca falham" até "bloco para que todas as réplicas sejam legíveis", com o nível de quorum no meio.</p>
						</li>
					</ul>

					--

					<ul>
						<li><h6>Suporte do MapReduce</h6>
							<p>Cassandra possui integração com o Hadoop, com suporte ao MapReduce. Também há suporte para o Apache Pig e o Apache Hive.</p>
						</li>
					</ul>

					--
					
					<ul>
						<li><h6>Linguagem de consulta</h6>
							<p>Cassandra introduziu a Cassandra Query Language (CQL). O CQL é uma interface simples para acessar o Cassandra, como uma alternativa à tradicional SQL (Structured Query Language).</p>
						</li>
					</ul>
					
					--

					<ul>
						<li><h6>Consistência Eventual</h6>
							<p>Cassandra gerencia consistência eventual de leituras, upserts e exclusões através de Tombstones.</p>
						</li>
					</ul>

					--
					
					<h5>Modelo de dados</h5>
					<p>Cassandra é um amplo armazenamento de colunas e, como tal, essencialmente um híbrido entre um valor-chave e um sistema de gerenciamento de banco de dados tabular.</p>
					<p> Seu modelo de dados é um armazenamento de linha particionado com consistência ajustável.</p>

					--
					
					<ul>
						<li>Linhas são organizadas em tabelas; </li>
						<li>O primeiro componente da chave primária de uma tabela é a chave de partição; </li>
						<li>Dentro de uma partição, as linhas são agrupadas pelas colunas restantes da chave.</li>
						<!-- <li>Outras colunas podem ser indexadas separadamente da chave primária.</li>
						<li>As tabelas podem ser criadas, descartadas e alteradas em tempo de execução sem bloquear atualizações e consultas.</li>
						<li>Cassandra não pode fazer junções ou subconsultas,Cassandra enfatiza a desnormalização por meio de recursos como coleções.</li> -->
					</ul>

					--
					
					<ul>
						<!-- <li>Linhas são organizadas em tabelas; </li>
						<li>O primeiro componente da chave primária de uma tabela é a chave de partição; </li>
						<li>Dentro de uma partição, as linhas são agrupadas pelas colunas restantes da chave.</li> -->
						<li>Outras colunas podem ser indexadas separadamente da chave primária.</li>
						<li>As tabelas podem ser criadas, descartadas e alteradas em tempo de execução sem bloquear atualizações e consultas.</li>
						<li>Cassandra não pode fazer junções ou subconsultas,Cassandra enfatiza a desnormalização por meio de recursos como coleções.</li>
					</ul>
					
					--

					<img src="examples/assets/diversos/no_cassandra.png" alt="">

					--

					<h5>Teorema CAP</h5>
					<p>Teorema do CAP, também chamado de Teorema de Brewer, afirma que é impossível que o armazenamento de dados distribuído forneça simultaneamente mais de duas das três garantias seguintes:</p>

					--
					
					<table>
						<tr>
							<th>Consistência</th>
							<th>Disponibilidade (Availability)</th>
							<th>Partição tolerante a falhas</th>
							<tr>
								<td>Cada leitura recebe a escrita mais recente ou um erro</td>
								<td>Cada pedido recebe uma resposta (sem erro) - sem garantia de que contém a escrita mais recente</td>
								<td>Continua funcionando apesar de um erro entre a rede entre nós</td>
							</tr>
						</tr>
					</table>

					--

					<img src="examples/assets/diversos/CAP.png" alt="" style="height: 650px;">

					--

					<img src="examples/assets/diversos/cap_bds.png" alt="" style="height: 650px;">

				</script>
			</section>
			<section data-markdown data-separator="^\n---\n$" data-separator-vertical="^\n--\n$">
				<script type="text/template">
					## Manipulação de Dados
					<h3>TablePlus</h3>
					<p>O editor que será utilizado para manipular o banco de dados sera o TablePlus(<a href="https://tableplus.com/download" target = "_blank">download</a>)</p>
					
					--

					<p>Primeiro devemos criar o keyspace, onde será armazenado as tabelas.</p>
					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
						CREATE KEYSPACE  "exemplo_keyspace"
						WITH replication = {'class': 'SimpleStrategy'
						                    ,'replication_factor': 1};
					</code></pre>

					--

					
					<ul>
						<li><b>class</b>: indica qual o método de replicação será utilizando para distribuir as réplicas das partições, podendo ser:</li>
						<li><p><b>SimpleStrategy</b>: é o método padrão. Assume que o cluster é composto de um único data center e irá criar um número de réplicas de cada partição das tabelas desse keyspace igual ao valor especificado no parâmetro <b>replication_factor</b></p></li>	
					</ul>

					--
					
					<ul>
						<li><p><b>NetworkTopologyStrategy</b>: esse método permite que seja definido um fator de replicação para cada data center que faz parte do cluster. Nesse caso, o parâmetro replication_factor não é utilizado, sendo necessário passar um conjunto de chaves e valores em que a chave é o nome do data center e o valor é a quantidade de réplicas para o mesmo.</p></li>
					</ul>

					--

					<ul>
						<li><p><b>replication_factor:</b> indica quantos nós do cluster devem conter uma cópia de cada partição das tabelas deste keyspace caso o método de replicação seja o SimpleStrategy.</p></li>
					</ul>

					--
					
					<h3>Criando uma tabela</h3>

					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
						CREATE TABLE "exemplo_keyspace"."contacts" (
						contact_id uuid,
						first_name text,
						last_name text,
						phone_number text,
						PRIMARY KEY(contact_id)
						);
					</code></pre>
					
					--

					<h3> Inserindo dados em uma tabela </h3>
					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
						INSERT INTO
						"exemplo_keyspace"."contacts" (contact_id, first_name, last_name, phone_number)
						VALUES (uuid(), 'John', 'Doe', '559912341234');
						INSERT INTO
						"exemplo_keyspace"."contacts" (contact_id, first_name, last_name)
						VALUES (uuid(), 'Mary', 'Jane');
						INSERT INTO
						"exemplo_keyspace"."contacts" (contact_id, first_name, phone_number)
						VALUES (uuid(), 'Will', '441239876543');
					</code></pre>
					
					--
					
					<h3> Select na tabela </h3>
					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
						SELECT * FROM "exemplo_keyspace"."contacts";
					</code></pre>
					
					--

					<h3>Alterações na Tabela</h3>
					<h5>Manipulando coluna de Coleções</h5>
					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
					ALTER TABLE exemplo_keyspace.contacts ADD phone_numbers LIST< text >;
					ALTER TABLE exemplo_keyspace.contacts DROP phone_number;
					UPDATE exemplo_keyspace.contacts
					SET phone_numbers = [ '441239876543', '441239876543' ]
					WHERE contact_id = 910ac22b-538e-42d2-a5cc-7163cdd5a0c3;
					SELECT phone_numbers FROM "exemplo_keyspace"."contacts"
					WHERE contact_id = 910ac22b-538e-42d2-a5cc-7163cdd5a0c3;
					</code></pre>

					--

					<h3> Utilizando TL(Time to Live)</h3>
					<pre data-id="code"><code data-line-numbers class="hljs" data-trim>
					INSERT INTO exemplo_keyspace .contacts (contact_id, first_name, last_name)
					VALUES (uuid(), 'Temporary', 'Temporary') USING TTL 60;
					</code></pre>					

					---
					
					## Referências
					
					<ul>
						<li> <a href="https://phoenixnap.com/kb/install-cassandra-on-windows" target = "_blank">Tutorial de instalação Apache Cassandra</a></li>
						<li> <a href="https://pt.wikipedia.org/wiki/Apache_Cassandra" target = "_blank">Informações Apache Cassandra</a></li>
						<li> <a href="https://pt.wikipedia.org/wiki/NoSQL" target = "_blank">Informações NoSQL</a></li>
						<li> <a href="https://pt.wikipedia.org/wiki/Teorema_CAP" target = "_blank">Teorema CAP</a></li>
						<li> <a href="https://youtu.be/s1xc1HVsRk0" target = "_blank">Play list de Cassandra Youtube (Inglês)</a></li>
						<li> <a href="https://revealjs.com/" target = "_blank">Framework da utilizada na apresentação</a></li>
						<li> <a href="https://docs.datastax.com/en/cql-oss/3.x/cql/cql_reference/cqlCommandsTOC.html" target = "_blank">Lista de Comandos CQLSH</a></li>
						<li> <a href="https://www.tutorialspoint.com/cassandra/cassandra_cqlsh.htm" target = "_blank">Tutorial CQLSH</a></li>
						<li> <a href="https://www.devmedia.com.br/introducao-ao-cassandra/38377" target = "_blank">Exemplos de Implementação Apache Cassandra</a></li>
					</ul>

				</script>
			</section>
	</div>
</div>

	

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
